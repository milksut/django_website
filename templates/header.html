<!DOCTYPE html>
<html lang="en">
 {% extends "style_sheet.html" %}
 {% load static %}
 {% block styled %}
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
 <head>
     <meta charset="UTF-8">
    <title>DecoyBet</title>
 </head>
<body>
    <header>
    <div class="menu-container">
    <ul class="navbar">
        <li><img src="{% static 'pictures/Decoy.png' %}" alt="logo" style="width: 100%;"></li>
        <!--li class="decoy-bet"><span>DECOY</span> BET</li-->
        <li><a href="{% url 'homepage' %}"><i class="fa-solid fa-house"></i>Ana Sayfa</a></li>
        <li style="margin-bottom: 12px;"><a href="{% url 'bahisler' %}">Popüler Bahisler</a></li>
        <li><a onclick="goToGames()">Oyunlar</a></li>
        <li style="float: left;"><a href="{% url 'koclar' %}">Koçlar</a></li>

        <li style="float: left;"><a href="{% url 'iletisim' %}">Hakkımızda</a></li>
        <li style="float: left;"><a onclick="toggleMusic()">&#9834;</a></li>
        <!-- <li style="float: left;"><a onclick="toggleRegisterForm()">Üye ol</a></li> -->
        <!-- <li style="float: right;"><a onclick="toggleLoginForm()">Giris Yap</a></li>  -->
   
        <li >             
          <label for="dropdown"></label>
          <select id="dropdown" name="options">
              <option value="option1">profili görüntüle </option>
              <option value="option2">Satılık köprüler </option>
              <option value="option3">decoybete ortak olun </option>
              <option value="option4">2.el otomotiv</option>
          </select>
          <img src="{% static 'pictures/altay.png' %}" alt="logo" style="height: 80%;">

          </li>
 
      


        <!--li style="float: right;">BAKİYE TEMP</li-->
    </ul>
    </div>
    </header>
    {% include 'login_form.html' %}
    {% include 'register_form.html' %}
    <script>
       function toggleRegisterForm()
       {
            var registerForm = document.getElementById('register-form');
            registerForm.style.display = registerForm.style.display == 'flex' ? 'none': 'flex';
       }
       function toggleLoginForm()
       {
            var loginForm = document.getElementById('login-form');
            loginForm.style.display = loginForm.style.display == 'flex' ? 'none': 'flex';
       }
       function switchForm()
       {
          toggleLoginForm();
          toggleRegisterForm();
       }
       function goToGames()
       {
          if( window.location.pathname!=="/")
          {
               window.location.href = "/";
          }
          else
          {
               document.querySelector('#container-games').scrollIntoView({ behavior: 'smooth' });
          }
       }
       let music = new Audio("{% static 'sounds/decoybet.mp3' %}");
       music.loop = true;
       function toggleMusic()
       {
          if(music.paused)
          {
               music.play();
          }
          else
          {
               music.pause();
          }
       }
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
     $(document).ready(function(){
         $('#login-form-form').on('submit', function(event){
             event.preventDefault();
             var $form = $(this);
             $.ajax({
               type: $form.attr('method'),
               url: $form.attr('action'),
               data: $form.serialize(), 
               success: function(response)
               {
                    if (response.error) {
                         $('#login-error-message').text(response.error).show();
                    } 
                    else 
                    {
                         window.location.href = response.redirect_url;
                    }
               },
               error: function()
               {
                    $('#login-error-message').text('An error occurred. Please try again.').show();
               }
             });
         });
     });
     </script>
     <script>
          $(document).ready(function(){
              $('#register-form-form').on('submit', function(event){
                  event.preventDefault();
                  var $form = $(this);
                  $.ajax({
                    type: $form.attr('method'),
                    url: $form.attr('action'),
                    data: $form.serialize(), 
                    success: function(response)
                    {
                         if (response.error) {
                              $('#register-error-message').text(response.error).show();
                         } 
                         else 
                         {
                              window.location.href = response.redirect_url;
                         }
                    },
                    error: function()
                    {
                         $('#register-error-message').text('An error occurred. Please try again.').show();
                    }
                  });
              });
          });
      </script>

 {% block content %}  {% endblock content %}    
</body>
 {% endblock styled %}
</html>